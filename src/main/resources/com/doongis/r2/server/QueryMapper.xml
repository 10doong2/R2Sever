<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper      
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"      
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.doongis.r2.server.QueryMapper">
	
	<!-- UserVO -->
	<insert id="insertUser" parameterType="UserVO">
		INSERT INTO UserVO(user_id, user_name)
		SELECT #{user_id}, #{user_name} FROM UserVO
		WHERE NOT EXISTS (SELECT user_id FROM UserVO WHERE user_id=#{user_id})
	</insert>
	
	
	
	<!-- ArticleVO -->
	<insert id="insertArticle" parameterType="ArticleVO">
		insert into
		ArticleVO(article_title, article_date, article_content,article_url,
		board_no, user_id, user_name)
		values (#{article_title},
		#{article_date},
		#{article_content},#{article_url},#{board_no},#{user_id},
		#{user_name})
	</insert>

	<select id="selectArticle" resultType="ArticleVO">
		SELECT article_no, article_title, article_date, article_content,
		article_heart, article_url, user_id, user_name
		FROM ArticleVO
		WHERE board_no = 1
		ORDER BY article_no DESC
	</select>
	
	
	
	<!-- StepVO -->
	<insert id="insertStep" parameterType="StepVO">
		insert into StepVO(step_start_time, step_end_time, step_total_time, step_goal,
		step_step, user_id, user_name)
		values (#{step_start_time}, #{step_end_time}, #{step_total_time},
		#{step_goal},#{step_step},#{user_id},#{user_name})
	</insert>
	
	<select id="selectStep" resultType="StepVO">
		SELECT step_no, step_start_time, step_end_time, step_total_time, step_goal, step_step, user_id, user_name
		FROM StepVO
		ORDER BY step_no DESC
	</select>
	
	
	<!-- CycleVO -->
	<insert id="insertCycle" parameterType="CycleVO">
		insert into CycleVO(cycle_start_time, cycle_end_time, cycle_total_time, cycle_distance,
		cycle_speed, user_id, user_name)
		values (#{cycle_start_time}, #{cycle_end_time}, #{cycle_total_time},
		#{cycle_distance},#{cycle_speed},#{user_id},#{user_name})
	</insert>
	
	<select id="selectCycle" resultType="CycleVO">
		SELECT cycle_no, cycle_start_time, cycle_end_time, cycle_total_time, cycle_distance, cycle_speed, user_id, user_name
		FROM CycleVO
		ORDER BY cycle_no DESC
	</select>
	
</mapper>